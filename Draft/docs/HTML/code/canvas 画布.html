<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Canvas 画布</title>
    <style>
      .wrap {
        margin: 0 auto;
      }

      #main-canvas {
        background: #2ac06d;
      }
    </style>
  </head>
  <body>
    <div class="wrap">
      <canvas
        id="main-canvas"
        width="500"
        height="500"></canvas>
    </div>
    <img
      id="scream"
      src="./0.png"
      style="background: #ccc"
      height="240"
      width="320"
      alt="呐喊" />
    <script>
      let canvas = document.getElementById('main-canvas'); // 选择器-找到 Canvas 画布元素
      let ctx = canvas.getContext('2d'); // 创建绘图对象
      ctx.fillStyle = '#1f2d3d'; // 设置图形对象的填充

      /**
       * @name ctx.fillRect 画布上绘制一个矩形
       * @param x 水平坐标
       * @param y 垂直坐标
       * @param width 宽度
       * @param height 高度
       * Tip: 以 canvas 画布的左上角为原点；宽高单位-像素(px)
       * */
      ctx.fillRect(0, 0, 200, 200); // 画布上绘制一个矩形

      // 绘制直线
      ctx.moveTo(250, 0); // 定义起点
      ctx.lineTo(250, 500); // 定义终点
      ctx.stroke(); // 实际绘制

      ctx.moveTo(0, 250); // 定义起点
      ctx.lineTo(500, 250); // 定义终点
      ctx.stroke(); // 实际绘制

      // 绘制圆
      ctx.beginPath(); // 开始一条路径
      /**
       * @name ctx.arc 定义创建一个圆（圆弧、曲线）
       * @param x 圆心 x 坐标
       * @param y 圆心 y 坐标
       * @param r 圆的半径
       * @param startangle // 开始角度 (圆 - 0)
       * @param endangle // 结束角度 (圆 - 2 * Math.PI)
       * */
      ctx.arc(250, 250, 25, 0, 2 * Math.PI);
      ctx.stroke();

      /**
       * @desc 画布渐变
       *
       * 分类：
       *      createLinearGradient(x, y, x1, y1) 线性渐变
       *      createRadialGradient(x, y, r, x1, y1, r1) 径向渐变、圆形渐变
       *
       * addColorStop() 制定颜色停止点及其沿渐变的位置(0-1)
       * */

      // 创建渐变（线性）
      let grd = ctx.createLinearGradient(0, 0, 200, 0);
      grd.addColorStop(0, 'red');
      grd.addColorStop(1, 'white');

      // 填充渐变色
      ctx.fillStyle = grd; // 使用渐变，需要将 fillStyle 或 strokeStyle 属性设置为渐变
      ctx.fillRect(0, 205, 150, 80);

      /**
       * @desc 画布文本
       *
       * font 定义文本的字体属性
       * fillText(text, x, y) 画布上绘制（填充）文本
       * strokeText(text, x, y) 画布上绘制文本（无填充）
       * */
      ctx.font = '30px Arial';
      ctx.fillText('hello world', 275, 275);

      ctx.strokeText('hello world', 250, 100); //无填充

      ctx.font = '30px Comic Sans Ms';
      ctx.fillStyle = 'blue';
      ctx.textAlign = 'center'; // 文本居中
      ctx.fillText(
        'hello world',
        canvas.width / 2,
        canvas.height / 2
      );

      window.onload = function () {
        // 在此处编写需要在页面加载完成后执行的代码
        let img = document.getElementById('scream');
        ctx.drawImage(img, 0, 0);

        console.log('hello');
      };
    </script>
  </body>
</html>
