# Git Tag

## 引言

在 Git 中，标签（tag）是用于标记特定提交的重要点，如版本发布（v1.0、v2.0 等）。
标签可以是轻量级的，仅作为提交的引用，或者是附注标签，包含更多信息如创建者名字、邮箱、日期和标签消息，并且可以被签名和验证。
可以帮助有效地管理项目的重要节点。

---

## 创建标签

> 标签有两种类型: 
>
> `轻量标签（lightweight）`和 `附注标签（annotated）`

### 轻量标签

> 轻量级标签（lightweight tag）是 Git 中最基本的标签类型，它只是一个指向特定提交的指针。

创建轻量级标签非常简单，只需指定标签名即可:

```shell
# 如: git tag v0.0.1
git tag [标签名]
```

### 附注标签

> 附注标签（annotated tag）是 Git 中另一个常见的标签类型，它包含了更多的信息，如创建者名字、邮箱、日期和标签消息，并且可以被签名和验证。

创建附注标签则需要 -a 选项，并通常配合 -m 选项来添加标签信息:

```shell
git tag -a [标签名] -m "附注标签信息"

# 将打开一个文本编辑器，编辑标签信息。
git tag --edit [标签名]
```

### 编辑已存在的标签

```shell
git tag -a [标签名] -f
```

### 旧版本提交标签

如果要为之前的提交打标签，可以在命令末尾添加旧版本的哈希值: 

```shell
git tag [标签名] 旧版本的哈希值
```

## 查看标签

### 查看所有标签

```shell
git tag
```

### 查看特定模式的标签

可以使用 -l 或 --list 选项: 

```shell
# 按照特定模式查找标签
git tag -l "v0.0.*"
```

### 查看标签详细信息

查看标签详细信息，包括附注信息和对应的提交信息，可以使用 git show: 

```shell
git show [标签名]
```

### 推送标签

> 默认情况下，git push 不会将标签推送到远程仓库。

要推送特定标签，可以使用: 

```shell
git push origin [标签名]
```

### 推送所有标签

要一次性推送所有本地新标签，可以使用: 

```shell
git push origin --tags
```

## 删除标签

### 删除本地标签

```shell
git tag -d [标签名]
```

### 删除远程仓库标签

```shell
# 方式一
git push origin --delete [标签名]

# 方式二
git push origin :refs/tags/标签名
```

## 检出标签

### 检出标签对应的文件版本

> 要检出标签对应的文件版本，可以使用 git checkout，但这会使仓库进入“分离头指针”状态。

如果需要在标签基础上进行更改，建议创建新分支: 

```shell
git checkout -b 新分支名 [标签名]
```
